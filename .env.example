# FFT_nano environment configuration (NO SECRETS)
#
# This file is a template. Copy to .env and fill in your own values.
# The host process reads .env and passes an allowlisted subset into the agent
# container (see src/container-runner.ts).

# ----------------------
# Channels
# ----------------------

# WhatsApp: enabled by default when set to 1.
# If using Telegram only (recommended for dev): set WHATSAPP_ENABLED=0
WHATSAPP_ENABLED=0

# Telegram: enable by setting a bot token
# TELEGRAM_BOT_TOKEN=123456:ABCDEF...

# Optional: make a specific Telegram chat the main/admin channel
# TELEGRAM_MAIN_CHAT_ID=123456789

# Optional: allow claiming the main chat by DMing /main <secret>
# TELEGRAM_ADMIN_SECRET=change-me

# Optional: max size (MB) for inbound Telegram media persisted to groups/<group>/inbox/telegram
# TELEGRAM_MEDIA_MAX_MB=20

# Optional: assistant mention name used for trigger matching in non-main chats
# ASSISTANT_NAME=FarmFriend

# Optional: additional trigger aliases (comma-separated), e.g. supports @F-15 and @FarmFriend
# ASSISTANT_ALIASES=F-15,FarmFriend

# Optional: main/admin workspace path mounted as /workspace/group in main chat runs
# FFT_NANO_MAIN_WORKSPACE_DIR=~/nano

# Optional: heartbeat cadence for periodic main-session checks (e.g. 15m, 30m, 1h; 0m disables)
# FFT_NANO_HEARTBEAT_EVERY=30m
# Optional: heartbeat prompt override
# FFT_NANO_HEARTBEAT_PROMPT=Read HEARTBEAT.md if it exists (workspace context). Follow it strictly. Do not infer or repeat old tasks from prior chats. If nothing needs attention, reply HEARTBEAT_OK.

# ----------------------
# Farm bridge / dashboard integration
# ----------------------

# Farm mode:
# - demo: quick showcase using simulated telemetry
# - production: real-device onboarding with mapping + validation gate
# FARM_MODE=demo

# Enable farm-state collector + farm action gateway
# FARM_STATE_ENABLED=true

# Home Assistant endpoint + token for farm polling/actions
# HA_URL=http://localhost:8123
# HA_TOKEN=your-long-lived-ha-token

# Path to FFT dashboard repo (mounted for main chat dashboard operations)
# FFT_DASHBOARD_REPO_PATH=/absolute/path/to/FFT_demo_dash

# Companion dashboard template source and pin (used by scripts/farm-bootstrap.sh)
# FFT_DASHBOARD_REPO_URL=https://github.com/0-CYBERDYNE-SYSTEMS-0/FFT_demo_dash.git
# FFT_DASHBOARD_REPO_REF=dee8fc890845825a4e77c189ef6b6ab64676baed

# Farm profile mapping file (written by scripts/farm-onboarding.sh)
# FARM_PROFILE_PATH=/absolute/path/to/FFT_nano/data/farm-profile.json

# ----------------------
# Container runtime
# ----------------------

# auto (default): prefers Apple Container on macOS when available, else Docker
# CONTAINER_RUNTIME=auto

# Agent image (built by ./container/build.sh or ./container/build-docker.sh)
# CONTAINER_IMAGE=fft-nano-agent:latest

# ----------------------
# Pi runtime (LLM provider)
# ----------------------

# Option A: OpenAI
# PI_API=openai
# PI_MODEL=gpt-4o-mini
# OPENAI_API_KEY=...
# Optional OpenAI-compatible endpoint for local inference:
# OPENAI_BASE_URL=http://localhost:11434/v1

# Option B: Anthropic API key
# PI_API=anthropic
# PI_MODEL=claude-3-5-sonnet-latest
# ANTHROPIC_API_KEY=...

# Option C: Gemini
# PI_API=gemini
# PI_MODEL=gemini-2.0-flash
# GEMINI_API_KEY=...

# Option D: OpenRouter
# PI_API=openrouter
# PI_MODEL=anthropic/claude-3.5-sonnet
# OPENROUTER_API_KEY=...

# ----------------------
# Debug
# ----------------------
# LOG_LEVEL=debug
# FFT_NANO_DRY_RUN=1

# ----------------------
# Memory retrieval gate
# ----------------------
# Enable lexical memory retrieval gate (recommended)
# MEMORY_RETRIEVAL_GATE_ENABLED=1
# Max number of memory snippets to inject per run
# MEMORY_TOP_K=8
# Hard character budget for injected memory context
# MEMORY_CONTEXT_CHAR_BUDGET=6000
